<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CogWheel - PC Version</title>
    <style>
        /* Basic Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #1e1e1e;
            color: #ffffff;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Header */
        .store-header {
            width: 100%;
            padding: 20px 40px;
            background-color: #222;
            color: #fff;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            width: 32px;
            height: 32px;
            margin-right: 10px;
        }

        .nav-links a {
            margin-left: 20px;
            color: #fff;
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #f39c12;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 250px;
            height: 100%;
            background-color: #333;
            padding-top: 80px;
            z-index: 999;
            overflow-y: auto;
        }

        .profile-container {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-bottom: 1px solid #444;
            margin-bottom: 20px;
        }

        .profile-container img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid #fff;
        }

        .profile-container span {
            color: #fff;
            font-size: 18px;
            font-weight: 500;
        }

        .menu-links a {
            display: block;
            padding: 15px 20px;
            color: #bbb;
            text-decoration: none;
            font-size: 18px;
            transition: background-color 0.3s, color 0.3s;
        }

        .menu-links a:hover {
            background-color: #444;
            color: #fff;
        }

        .logout-btn {
            display: block;
            padding: 15px 20px;
            color: #f39c12;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            margin-top: 20px;
            border-top: 1px solid #444;
            display: none; /* Hidden initially */
        }

        .logout-btn:hover {
            background-color: #444;
            color: #fff;
        }

        /* Content */
        .content {
            margin-left: 250px;
            margin-top: 120px;
            padding: 30px 40px;
            text-align: center;
        }

        /* Footer */
        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 10px;
            background-color: #222;
            color: #888;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="store-header">
        <div class="header-content">
            <div class="logo">
                <img id="header-icon" src="Windows_CogWheel_LOGO_v0.5.0.png" alt="CogWheel Icon">
                CogWheel
            </div>
            <div class="nav-links">
                <a href="Store2.html">Store</a>
                <a href="Store.html">Homebrew</a>
                <a href="Support.html">Support</a>
                <a href="Community.html">Community</a>
            </div>
        </div>
    </header>

    <!-- Sidebar Menu -->
    <div class="sidebar">
        <div class="profile-container" onclick="goToProfilePage()">
            <img id="profile-pic" src="profilepicture.png" alt="Profile Picture">
            <span id="username">Profile</span>
        </div>
        <div class="menu-links">
            <a href="Register.html" id="register-link">Register</a>
            <a href="LogIn.html" id="login-link">Log In</a>
            <a href="community.html">Community</a>
            <a href="Store2.html">Homebrew</a>
            <a href="emulators.html">Emulators</a>
            <a href="License.html">License</a>
            <a href="support.html">Support</a>
            <a href="PrivacyPolicy.html">Privacy Policy</a>
            <a href="TermsOfUse.html">Terms of Use</a>
            <a href="#" class="logout-btn" onclick="logout()" id="logout-btn">Log Out</a>
        </div>
    </div>

    <!-- Content -->
    <div class="content">
        <h1>Welcome to CogWheel</h1>
        <p>Your one-stop gaming hub for discovering and playing the best PC games!</p>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 CogWheel. All Rights Reserved.</p>
    </footer>

    <script>
        // Check login status
        const username = localStorage.getItem('username');
        const profilePic = localStorage.getItem('profilePic');
        const logoutButton = document.getElementById('logout-btn');
        const registerLink = document.getElementById('register-link');
        const loginLink = document.getElementById('login-link');

        if (username) {
            // User is logged in
            document.getElementById('username').innerText = username;

            // Update profile picture if available
            if (profilePic) {
                document.getElementById('profile-pic').src = profilePic;
            }

            // Hide register and login links
            registerLink.style.display = 'none';
            loginLink.style.display = 'none';

            // Show logout button
            logoutButton.style.display = 'block';
        } else {
            // User is not logged in, redirect to Register page
            window.location.href = "Register.html";
        }

        function goToProfilePage() {
            window.location.href = "MyProfile.html";
        }

        function logout() {
            localStorage.clear();
            window.location.href = "LogIn.html"; // Redirect to login page after logout
        }
    </script>
</body>
</html>
